# Bugs

There's a huge number of bugs in the site intentionally left with bugs. Documenting each of them clearly and concisely feels like a multi-hour task all on its own! In light of this, I've instead chosen to track what I perceive to be issues with the production website within this document.

I've approached my bug-hunting from a black-box perspective rather than allowing myself access to review the source code of the website under test (which I'd usually prefer to do).

In addition to these bugs, I've included comments throughout my code where I feel selectors are lacking.

| Issue | Description | Reproduction | Fix |
| --- | --- | --- | --- |
| Slowness in responses, often to the point of HTTP timeout | The publicly hosted instance of the test website does not have reliable response times. During test development, response times varied from sub-second to over 30s (causing a browser timeout). | Use the website at a busy time. (Or DDoS the host- naughty.) | Host should be looking into client-side caching further. I can't much- if any- evidence of cache instruction in response headers. That's a bit weird given the data in the site should be more-or-less static. At very least, the data should be permitted to be static for an hour or so- that would hugely aid in reducing request spam. |
| Constant unnecessary calls to GET /me receiving 401 | The browser knows when a user is logged in by looking at its own cookies. But it doesn't check here before calling GET /me, which will always get 401. Not only is this generating unnecessary traffic, it would make telemetry review unnecessarily tricky. | Access any page whilst not logged in. | Implement front-end logic to conditionally call the API only when we're possibly going to get 2xx. |
| Accessibility issues | A quick check using web accessability evaulation tools shows a huge number of issues that cause WCAG non-compliance. | Use eg. WAVE browser extension on each page on site. | Follow recommendations from evaulation tools. |
| Un-responsive filtering/search UX | The way the pagination/filtering and search have been implemented rely on API calls rather than on-page js. This model helps when there are 1000s of products, but given the low number of products available this is a bit over-engineered. Whilst API calls for filtering/searching/changing page are in-flight, there's no update to the UX. If these API calls take a while to complete, the resultant UX is a bit janky. | Perform filter/search/change page on homepage. | Implement endpoints to retrieve a full list of products, without pagination. Call this, and then use on-page js. |
| UI uses packages with vulnerabilities | `npm audit` at the time I was working on the task shows that the project owners have been ignoring [this CVE](https://github.com/advisories/GHSA-7mvr-c777-76hp) for a while. | `npm audit` | `npm audit fix` - updates are fairly minimal! :) |
| Running the API locally results in 500 responses | I pulled `main` and followed the readme instructions to instantiate a local development environment. All API calls from the UI receive a 500 without any detail. | Run UI locally | ?? - there's really not much information available here to help me debug. There's also currently no open issues on the repo. |
| Must double-click search button in order to submit a search | This only happens if you click very quickly after typing, but it can easily be done manually. Seems like the component is still updating the class list for the input at the point I make the first click. For whatever reason, that means the click event isn't being propagated through to the submit button. | Search any term and quickly press "submit" | Ensure the click event is being propagated at all times. |
| Searching for some long search terms doesn't work | No API call is made, either when pressing enter on the input box, or by pressing the search button twice | Try to search eg. `yh9ufdsf9isdjodsnf0dsfsd0-f dsf dsi09fsdk0fjdsfdsjf0dsjfdsokfmslkdfsd0 fjkosi`. | |
| No error handling for searching for a non-existent product's details page | When directly navigating to a product details page via url, the user can input any product id. If they pick an id that doesn't exist, the API will rightly return 404. However, the UI ignores this and still tries to look for related products, which causes a 500. That's two bugs in one really- the API should be returning a 404 in this case, but the UI shouldn't even call the related API. Additionally the UI doesn't put anything in the DOM to warn the user that they're looking for a non-existent product. | Navigate to `https://practicesoftwaretesting.com/product/123` | Per description. |